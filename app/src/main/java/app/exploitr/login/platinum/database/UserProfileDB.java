package app.exploitr.login.platinum.database;

import android.content.Context;
import android.content.SharedPreferences;
import android.preference.PreferenceManager;

import javax.annotation.Nullable;

public class UserProfileDB {
    private final SharedPreferences preferences;
    private static final String USER = "ussr";
    private static final String PURL = "purl";
    private static final String USR_J = "usr_j";
    private static final String DUP = "data_up";
    private static final String DATA_V = "data_v";

    public UserProfileDB(Context context) {
        preferences = PreferenceManager.getDefaultSharedPreferences(context);
    }

    @Nullable
    public String getUsername() {
        return preferences.getString(USER,
                null);
    }

    public void setUsername(String username) {
        preferences.edit().putString(USER, username).apply();
    }

    @Nullable
    public String getProfileUrl() {
        return preferences.getString(PURL, null);
    }

    public void setProfileUrl(String profileUrl) {
        preferences.edit().putString(PURL, profileUrl).apply();
    }

    public long getVersion() {
        return preferences.getLong(DATA_V, 0);
    }

    public void updateVersion(long version) {
        preferences.edit().putLong(DATA_V, version).apply();
    }

    @Nullable
    public String getJoiningDate() {
        return preferences.getString(USR_J, null);
    }

    public void setJoiningDate(String joiningDate) {
        preferences.edit().putString(USR_J, joiningDate).apply();
    }

    public void setJoiningDate(long joiningDate) {
        preferences.edit().putString(USR_J, String.valueOf(joiningDate)).apply();
    }

    public boolean isDataUpdated() {
        return preferences.getBoolean(DUP, false);
    }

    public void setDataUpdated() {
        preferences.edit().putBoolean(DUP, true).apply();
    }

    public void clear() {
        preferences.edit().clear().apply();
    }
}
