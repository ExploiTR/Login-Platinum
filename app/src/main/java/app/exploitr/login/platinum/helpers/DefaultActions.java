package app.exploitr.login.platinum.helpers;

import java.util.Arrays;

import app.exploitr.login.platinum.models.ISPDataModel;
import app.exploitr.login.platinum.models.RealmController;
import io.realm.RealmAny;
import io.realm.RealmList;

public class DefaultActions {
    private static final long defaultProfile_id_WishNet = 128;
    private static final long defaultProfile2_id = 256;
    private static final long defaultProfile3_id = 512;
    private static final long defaultProfile4_id = 1024;

    public static void executeActions() {
        if (!RealmController.getInstance().ifIspProfileExist(RealmAny.valueOf(defaultProfile_id_WishNet))) {
            ISPDataModel model = new ISPDataModel();
            model.setIsp_profile_id(defaultProfile_id_WishNet);
            model.setIspName("WISH NET");
            model.setLoginAddress("http://2.2.2.2/login");
            model.setLogoutAddress("http://2.2.2.2/logout");

            model.setLoginArguments(getListFromText("username,password"));
            model.setImmutable(false);

            RealmController.getInstance().updateIspProfile(model);
        }
    }

    private static RealmList<String> getListFromText(String text) {
        var l_args = new RealmList<String>();
        if (text.length() < 3) {
            return l_args;
        }
        if (text.charAt(text.length() - 1) == ',') {
            text = text.substring(0, text.length() - 1);
        }
        l_args.addAll(Arrays.asList(text.split(",")));
        return l_args;
    }
}
